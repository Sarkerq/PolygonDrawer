<Window x:Class="GK1.MainWindow" 
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:GK1"
		xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit"
        mc:Ignorable="d"
        Title="PolygonCreator" Width="1440" Height="810"  ResizeMode="NoResize" WindowStyle="ToolWindow" WindowState="Maximized"  KeyDown="drawingScreen_KeyDown"  >
	<Grid Background="{DynamicResource {x:Static SystemColors.MenuBrushKey}}">
		<Grid.RowDefinitions>
			<RowDefinition Height="40"/>
			<RowDefinition Height="20"/>
			<RowDefinition Height="4*"/>
			<RowDefinition Height="20"/>
			<RowDefinition Height="4*"/>
			<RowDefinition Height="20"/>
			<RowDefinition Height="4*"/>
			<RowDefinition Height="20"/>
			<RowDefinition Height="4*"/>
			<RowDefinition Height="2*"/>
			<RowDefinition Height="2*"/>
			<RowDefinition Height="2*"/>
			<RowDefinition Height="2*"/>


		</Grid.RowDefinitions>
		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="6*"/>
			<ColumnDefinition Width="6*"/>
			<ColumnDefinition Width="6*"/>
			<ColumnDefinition Width="3*"/>
			<ColumnDefinition Width="2*"/>

		</Grid.ColumnDefinitions>

		<!-- MENUS !-->

		<Menu Height="40"  HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch" VerticalAlignment="Top" Background="{DynamicResource {x:Static SystemColors.MenuBrushKey}}" Grid.ColumnSpan="3">
			<ItemsControl.ItemsPanel>
				<ItemsPanelTemplate>
					<UniformGrid Rows="1"/>
				</ItemsPanelTemplate>
			</ItemsControl.ItemsPanel>
			<MenuItem x:Name="newPolygon" Header="New Polygon" Click="newPolygon_Click" Margin="0,0,0.2,0" Width="100" HorizontalContentAlignment="Center" HorizontalAlignment="Center"/>
			<MenuItem x:Name="addPolygon" Header="Add Polygon"  Margin="0,0,0.2,0" Width="100" HorizontalContentAlignment="Center" HorizontalAlignment="Center" Click="addPolygon_Click" IsEnabled="True"/>
			<MenuItem x:Name="clipPolygon" Header="Clip Polygon"  Margin="0,0,0.2,0" Width="100" HorizontalContentAlignment="Center" HorizontalAlignment="Center" Click="clipPolygon_Click" IsEnabled="True"/>

		</Menu>


		<Label Content="Lightsource Color :" Grid.Column="3" HorizontalAlignment="Left" Height="40" Margin="0,0,0,0" VerticalAlignment="Top" Width="117" Grid.ColumnSpan="1"/>
		<xctk:ColorPicker Grid.Column="4" Name="ClrPcker_Lightsource"  Height="30" SelectedColorChanged="ClrPcker_Lightsource_SelectedColorChanged"  ></xctk:ColorPicker>

		<Label Content="Object Color :" Grid.Column="3" Grid.Row="1" HorizontalAlignment="Left" Height="40" Margin="0,0,0,0" VerticalAlignment="Top" Width="117" Grid.ColumnSpan="2"/>
		<Grid Grid.Column="3" Grid.Row="2">
			<RadioButton  x:Name="constantObjectColor" Content="Constant"  HorizontalAlignment="Left" Margin="14.8,20.6,0,0"  VerticalAlignment="Top" Checked="constantObjectColor_Checked"/>
			<RadioButton  x:Name="constantTextureColor" Content="Texture"  HorizontalAlignment="Left" Margin="15,61,0,10.4" Checked="constantTextureColor_Checked"  IsChecked="True"/>
		</Grid>
		<xctk:ColorPicker Grid.Column="4" Grid.Row="2" Name="ClrPcker_Object" Grid.ColumnSpan="1" Height="30" Margin="10,10,-0.4,36.8" Grid.RowSpan="1" VerticalAlignment="Top" SelectedColorChanged="ClrPcker_Object_SelectedColorChanged"  ></xctk:ColorPicker>
		<Image x:Name="currentTexture" Grid.Column="4" Grid.Row="2" Height="0" Width="100"  Margin="10,50,-0.4,36.8" VerticalAlignment="Top" RenderTransformOrigin="0.732,0.5">
			<Image.Source>
				<BitmapImage  UriSource="/Images/brick_normalmap.png" />
			</Image.Source>
		</Image>
		<Button Content="Choose..." Grid.Column="4" Grid.Row="2" Height="30" Width="100" Margin="10,50,-0.4,36.8" VerticalAlignment="Top" Click="currentTexture_MouseLeftButtonDown"/>

		<Label Content="Normal Vector :" Grid.Column="3" Grid.Row="3" HorizontalAlignment="Left" Height="40" Margin="0,0,0,0" VerticalAlignment="Top" Width="117" Grid.ColumnSpan="2"/>
		<Grid Grid.Column="3" Grid.Row="4">
			<RadioButton x:Name="constantNormalVector" Content="Constant ([0,0,1])"  HorizontalAlignment="Left" Margin="14.8,20.6,0,0"  VerticalAlignment="Top" Checked="constantNormalVector_Checked" IsChecked="True"/>
			<RadioButton x:Name="normalVectorMap" Content="NormalMap"  HorizontalAlignment="Left" Margin="14.8,60.6,0,0" VerticalAlignment="Top" Checked="normalVectorMap_Checked" />
		</Grid>
		<Image x:Name="currentMap" Grid.Column="4" Grid.Row="4" Height="0" Width="100" Margin="10,50,-0.4,36.8" VerticalAlignment="Top">
			<Image.Source>
				<BitmapImage  UriSource="/Images/normal_map.jpg" />
			</Image.Source>
		</Image>
		<Button Content="Choose..." Grid.Column="4" Grid.Row="4" Height="30" Width="100" Margin="10,50,-0.4,36.8" VerticalAlignment="Top" Click="currentMap_MouseLeftButtonDown"/> 
		<Label Content="Lightsource Vector :" Grid.Column="3" Grid.Row="5" HorizontalAlignment="Left" Height="40" Margin="0,0,0,0" VerticalAlignment="Top" Width="117" Grid.ColumnSpan="2"/>
		<Grid Grid.Column="3" Grid.Row="6">
			<RadioButton x:Name="constantLightsourceVector" Content="Constant ([0,0,1])" Margin="14.8,10.6,0,0"  VerticalAlignment="Top" Checked="constantLightsourceVector_Checked" IsChecked="True"/>
			<RadioButton x:Name="animatedLightsourceVector" Content="Animated on sphere on R = "  HorizontalAlignment="Left" Margin="14.8,60.6,0,0" VerticalAlignment="Top" Checked="animatedLightsourceVector_Checked"/>
		</Grid>
		<TextBox  x:Name="lightsourceRadius" Grid.Column="4" HorizontalAlignment="Left" Height="32" Margin="18.2,60.2,0,0" Grid.Row="6" TextWrapping="Wrap" Text="100" VerticalAlignment="Top" Width="97" TextChanged="lightsourceRadius_TextChanged" RenderTransformOrigin="0.484,-0.174"/>

		<Label Content="Set D :" Grid.Column="3" Grid.Row="7" HorizontalAlignment="Left" Height="40" Margin="0,0,0,0" VerticalAlignment="Top" Width="117" Grid.ColumnSpan="2"/>
		<Grid Grid.Column="3" Grid.Row="8">
			<RadioButton x:Name="noDisturbance" Content="None ([0,0,0])"  HorizontalAlignment="Left" Margin="14.8,20.6,0,0"  VerticalAlignment="Top" Checked="noDisturbance_Checked"/>
			<RadioButton x:Name="lightMapDisturbance" Content="LightMap"  HorizontalAlignment="Left" Margin="14.8,60.6,0,0" VerticalAlignment="Top" Checked="lightMapDisturbance_Checked"  IsChecked="True"/>
		</Grid>
		<Image  x:Name="currentDisturbance"  Grid.Column="4" Grid.Row="8" Height="0" Width="100"  Margin="10,50,-0.4,36.8" VerticalAlignment="Top" >
			<Image.Source>
				<BitmapImage  UriSource="/Images/brick_heightmap.png" />
			</Image.Source>
		</Image>
		<Button Content="Choose..." Grid.Column="4" Grid.Row="8" Height="30" Width="100" Margin="10,50,-0.4,36.8" VerticalAlignment="Top" Click="currentDisturbance_MouseLeftButtonDown" />

		<!-- CANVAS !-->

		<Canvas x:Name="drawingScreen"  Margin="10" Background="{DynamicResource {x:Static SystemColors.ControlBrushKey}}" 
				MouseLeftButtonDown="Canvas_MouseLeftButtonDown" MouseLeftButtonUp="drawingScreen_MouseLeftButtonUp" 
				MouseMove="drawingScreen_MouseMove" MouseRightButtonUp="drawingScreen_MouseRightButtonUp" ClipToBounds="True" MouseRightButtonDown="drawingScreen_MouseRightButtonDown" 
				MouseWheel="drawingScreen_MouseWheel" Grid.Row="1" Grid.ColumnSpan="3" Grid.RowSpan="13">
			<Image x:Name="lineCarbon" Stretch="UniformToFill">

			</Image>
		</Canvas>
		<Slider x:Name="F_slider" Grid.Column="3" HorizontalAlignment="Left" Height="20" Margin="18.4,30,0,0" Grid.Row="9" VerticalAlignment="Top" Width="146" TickPlacement="BottomRight" AutoToolTipPlacement="TopLeft" ValueChanged="F_slider_ValueChanged" SmallChange="0.02" Maximum="2" Value="1"/>
		<Label  Content="Select f:" Grid.Column="3" HorizontalAlignment="Left" Height="24" Margin="50.4,1.2,0,0" Grid.Row="9" VerticalAlignment="Top" Width="114"/>
		<Slider x:Name="Kd_slider" Grid.Column="3" HorizontalAlignment="Left" Height="20" Margin="18.4,30,0,0" Grid.Row="10" VerticalAlignment="Top" Width="146" TickPlacement="BottomRight" AutoToolTipPlacement="TopLeft" ValueChanged="F_slider_ValueChanged" SmallChange="0.01" Maximum="1" Value="1"/>
		<Label  Content="Select Kd:" Grid.Column="3" HorizontalAlignment="Left" Height="24" Margin="50.4,1.2,0,0" Grid.Row="10" VerticalAlignment="Top" Width="114"/>
		<Slider x:Name="Ks_slider" Grid.Column="3" HorizontalAlignment="Left" Height="20" Margin="18.4,30,0,0" Grid.Row="11" VerticalAlignment="Top" Width="146" TickPlacement="BottomRight" AutoToolTipPlacement="TopLeft" ValueChanged="F_slider_ValueChanged" SmallChange="0.01" Maximum="1" Value="1"/>
		<Label  Content="Select Ks:" Grid.Column="3" HorizontalAlignment="Left" Height="24" Margin="50.4,1.2,0,0" Grid.Row="11" VerticalAlignment="Top" Width="114"/>
		<Slider x:Name="M_slider" Grid.Column="3" HorizontalAlignment="Left" Height="20" Margin="18.4,30,0,0" Grid.Row="12" VerticalAlignment="Top" Width="146" TickPlacement="BottomRight" AutoToolTipPlacement="TopLeft" ValueChanged="F_slider_ValueChanged" SmallChange="0" Value="1" Minimum="1"/>
		<Label  Content="Select m:" Grid.Column="3" HorizontalAlignment="Left" Height="24" Margin="50.4,1.2,0,0" Grid.Row="12" VerticalAlignment="Top" Width="114"/>
	</Grid>
</Window>
